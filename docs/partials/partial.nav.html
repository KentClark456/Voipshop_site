<header
  style="
    width:100vw; margin-left:calc(50% - 50vw); margin-right:calc(50% - 50vw);
    position:sticky; top:0; z-index:50;
    background:rgba(255,255,255,.9); backdrop-filter:blur(6px); -webkit-backdrop-filter:blur(6px);
    border-bottom:1px solid #e5e7eb; text-align:initial;
  "
>
<div
  style="
    width:100% !important; max-width:none !important; margin:0 !important;
    padding:12px 24px 12px 14px;  /* left padding = how close the logo sits to the edge */
    box-sizing:border-box;
    display:flex; align-items:center; gap:24px; justify-content:space-between;
  "
>

  >
<a href="index.html" style="display:inline-flex; align-items:center; gap:8px; margin-left:8px;">
  <img src="Assets/Untitled design-7.png" alt="VoIPShop Logo" style="height:24px; width:auto;">
</a>


    <!-- Menu (right) -->
<nav aria-label="Primary"
     style="margin-left:auto; display:inline-flex; align-items:center; gap:32px;">
  <a href="packages.html"          style="color:#374151; font:500 14px/1.2 system-ui; text-decoration:none;">Packages</a>
  <a href="build-solution.html" style="color:#374151; font:500 14px/1.2 system-ui; text-decoration:none;">Custom Build</a>
  <a href="voice-services.html" style="color:#374151; font:500 14px/1.2 system-ui; text-decoration:none;">Voice Services</a>
  <a href="About.html"          style="color:#374151; font:500 14px/1.2 system-ui; text-decoration:none;">About us</a>
  <a href="contact.html"        style="color:#374151; font:500 14px/1.2 system-ui; text-decoration:none;">Contact Us</a>

<!-- Cart -->
<a href="checkout.html" title="Cart"
   style="position:relative; display:inline-flex; align-items:center; color:#0B63E6; text-decoration:none;">
  <svg viewBox="0 0 24 24" aria-hidden="true" style="height:20px; width:20px; display:block;">
    <path d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-1.5 7h13l-1.5-7M9 21a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm8 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"
          fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
  <span id="cart-count" hidden
        style="position:absolute; top:-6px; right:-8px; background:#0B63E6; color:#fff;
               font:700 10px/1 system-ui; padding:2px 6px; border-radius:999px;"></span>
</a>

  <!-- Login / Account -->
  <a href="login.html" title="Account" aria-label="Account"
     style="display:inline-flex; align-items:center; color:#374151; text-decoration:none;">
    <svg viewBox="0 0 24 24" aria-hidden="true" style="height:20px; width:20px; display:block;">
      <circle cx="12" cy="7" r="4" fill="none" stroke="currentColor" stroke-width="2"/>
      <path d="M5.5 21a6.5 6.5 0 0 1 13 0" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
    </svg>
  </a>
</nav>

  </div>
</header>
<script>
(function () {
  function safeParse(key) {
    try { return JSON.parse(localStorage.getItem(key) || 'null'); } catch { return null; }
  }

  function getCartCount() {
    // Prefer a custom build if present; otherwise the selected package
    const custom   = safeParse('voip:customBuild') || [];
    const selected = safeParse('voip:selectedPackage') || {};

    if (Array.isArray(custom) && custom.length > 0) {
      return custom.reduce((sum, it) => sum + (Number(it.qty) || 0), 0);
    }
    if (Array.isArray(selected.devices)) {
      return selected.devices.reduce((sum, d) => sum + (Number(d.number) || 0), 0);
    }
    return 0;
  }

  function renderCartBadge() {
    const badge = document.getElementById('cart-count');
    if (!badge) return;
    const n = getCartCount();
    if (n > 0) { badge.textContent = n; badge.hidden = false; }
    else { badge.hidden = true; badge.textContent = ''; }
  }

  // Initial render + update if another tab changes the cart
  document.addEventListener('DOMContentLoaded', renderCartBadge);
  window.addEventListener('storage', (e) => {
    if (['voip:customBuild','voip:selectedPackage'].includes(e.key)) renderCartBadge();
  });
})();
</script>

